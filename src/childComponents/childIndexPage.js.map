{"version":3,"file":"childIndexPage.js","sourceRoot":"","sources":["childIndexPage.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAC,aAAa,EAAC,QAAQ,EAAC,MAAM,mBAAmB,CAAC;AACzD,OAAO,EAAC,GAAG,EAAE,IAAI,EAAE,UAAU,EAAiB,MAAM,KAAK,CAAC;AAE1D,OAAO,EAAC,WAAW,EAAC,MAAM,yBAAyB,CAAC;AAEpD,OAAO,iCAAiC,CAAA;AACxC,0CAA0C;AAG1C,IAAa,cAAc,GAA3B,MAAa,cAAe,SAAQ,UAAU;IA6B1C;QACI,KAAK,EAAE,CAAC;QA3Bc,iBAAY,GAAkB,EAAE,CAAC;QA4BvD,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,CAAe,EAAE,EAAE;YACnC,gCAAgC;YAChC,IAAI,CAAC,CAAC,OAAO,KAAK,IAAI,EAAE;gBACpB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAA;aAC5B;YACD,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,KAAK,CAAA;YAC3B,qEAAqE;QACzE,CAAC,CAAC,CAAA;IACN,CAAC;IAlCD,iBAAiB;QACb,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,gFAAgF;IACpF,CAAC;IAES,MAAM;QACZ,OAAO,IAAI,CAAC;;;;;kBAKF,IAAI,CAAC,WAAW,EAAE;;SAE3B,CAAA;IACL,CAAC;IAsBO,WAAW;QACf,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,OAAO,IAAI,CAAC;sBACF,IAAI,CAAC,YAAY;;aAE1B,CAAC;SACL;QACD,IAAG,IAAI,CAAC,QAAQ,EAAC;YACb,OAAO,IAAI,CAAC;;;;sBAIF,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;gBACjB,OAAO,IAAI,CAAC;8CACc,IAAI;qBAC7B,CAAA;YACL,CAAC,CAAC;;aAEL,CAAC;SACL;aAAI;YACD,OAAO,IAAI,CAAC;;aAEX,CAAC;SACL;IACL,CAAC;CACJ,CAAA;AA9CU,qBAAM,GAAG,CAAC,GAAG,CAAA;;;;;;KAMnB,CAAC,CAAC;AAzBS;IAAX,QAAQ,EAAE;gDAAwB;AACT;IAAzB,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;oDAAkC;AAHlD,cAAc;IAD1B,aAAa,CAAC,kBAAkB,CAAC;GACrB,cAAc,CAmE1B;SAnEY,cAAc","sourcesContent":["import {customElement,property} from \"lit/decorators.js\";\nimport {css, html, LitElement, TemplateResult} from \"lit\";\nimport {ITasklist} from \"./childInterfaces\";\nimport {getTasklist} from \"../api/childApiRequests\";\nimport {apiResponse} from \"../sharedComponents/sharedInterfaces\";\nimport \"../sharedComponents/taskElement\"\n//import {property} from \"lit/decorators\";\n\n@customElement(\"child-index-page\")\nexport class ChildIndexPage extends LitElement {\n\n    @property() tasklist!: ITasklist[];\n    @property({type: String}) errorMessage: string | null = \"\";\n\n    connectedCallback() {\n        super.connectedCallback();\n        //Check and validate token with an api-call to see if we have access to the site\n    }\n\n    protected render(): TemplateResult {\n        return html `\n            <h1> Hello from Child Index Page! </h1>\n            <a href= \"/wishlist-overview\">Wishlist</a>\n\n            <div>\n                ${this.renderTasks()}\n            </div>\n        `\n    }\n\n    static styles = [css`\n        .container {\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: space-evenly;\n        }\n    `];\n\n    constructor() {\n        super();\n        getTasklist().then((r : apiResponse) =>{\n            //TODO: TOMY make this correctly\n            if (r.results !== null) {\n                this.tasklist = r.results\n            }\n            this.errorMessage = r.error\n            //this.errorMessage = \"r.error\" //simulerer at der er en error besked\n        })\n    }\n\n    private renderTasks(){\n        if (this.errorMessage) {\n            return html `\n                <p> ${this.errorMessage} </p>\n                <p> Loading...</p>\n            `;\n        }\n        if(this.tasklist){\n            return html `\n                <h1>Opgaver:</h1>\n            \n                <section class=\"container\">\n                    ${this.tasklist.map(task => {\n                    console.log(task)\n                    return html `\n                        <task-element .task=${task}></task-element>\n                    `\n                })}\n                </section>\n            `;\n        }else{\n            return html `\n                <p> Error loading Tasklist...</p>\n            `;\n        }\n    }\n}\n\n"]}